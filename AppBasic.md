# アプリの基礎

・Androidアプリは、`Kotlin`,`Java`,`C++`を使用して記述できる

・`Android SDK Tools`は、データ、リソース、ファイルなどと共にコードを`APK`または`Android App Bundle`にコンパイルする

## Android パッケージ(apk)

・Android パッケージ(`.apk`のサフィックスがついたファイル):実行時に必要なAndroidアプリのコンテンツが含まれている

>[!NOTE]
>Android パッケージファイルは、デバイスがアプリをインストールする際に使用される


## Android App Bundle

・`.aab`がついたファイルで、追加のメタデータなどが含まれる

・デバイスにインストールされるファイルではない

## Androidシステムでのアプリの扱い

・システムは各アプリに一意のLinuxユーザーIDを割り当てる(アプリ側では認識されない)

→アプリ内のすべてのファイルに権限を設定し、そのアプリに割り当てられたユーザーIDのみがアクセスできる

・独自の仮想マシン（VM）により、各アプリのコードは他アプリからは独立して実行される

・システムは、アプリコンポーネントのいずれかが必要になった時にプロセスを開始し、

　プロセスが不要になった時、または他のアプリのメモリを回復する必要がある時にシャットダウンする

## 最小権限の原則

・各アプリは必要なコンポーネントのみにアクセスし、それ以上のアクセスはしない。

→権限が付与されていないシステムにはアプリがアクセスできない、安全な環境が構築される

### 例外

・2つのあぷりが同じLinuxユーザーIDを共有して、違いにファイルにアクセスできるようにする、

　あるいは、同じLinuxプロセスで実行し、同じVMを共有することが可能

 →同じ証明書で署名する必要がある

 ・デバイスの位置、カメラなどのデバイスデータにアクセスする権限をリクエストできる。

[次(アプリケーションのコンポーネント)](/appComponents.md)
